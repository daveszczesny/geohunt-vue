import{g as h}from"./global-867567d1.js";import{_,a as v,b as c,c as d,r as n,d as l,u as b,n as u,f as g,o as f,i as L,j as s,R as k,k as B,w,F as E,v as I,x}from"./index-05011697.js";import{i as C}from"./icons-8e0d5636.js";const D={data(){return{lobby_name:h(),lobbyID:null}},methods:{gamestart(){console.log("Hello?"),this.$router.push("/")},async copyLobbyURL(){const t=window.location.href.replace(/\/$/,"").replace(/\/lobby$/,"/sharelink/")+this.lobby_name;await navigator.clipboard.writeText(t),alert("Lobby URL copied to clipboard!")}},async mounted(){v().currentUser==null&&this.$router.push("/"),document.getElementById("htmlTitle").innerText="GeoHunt - "+this.lobby_name,c(d(n(l()),this.lobby_name+"/users")).then(e=>{Object.keys(e.val()).length==1&&(document.getElementById("startGameDiv").style="display: block",c(d(n(l()),this.lobby_name+"/users/")).then(t=>{const o=Math.floor(Math.random()*Object.keys(t.val()).length);b(n(l(),this.lobby_name+"/users/"+Object.keys(t.val())[o]),{team:"hunter",icon:C.hunter})}))}),document.getElementById("startGameBtn").addEventListener("click",()=>{b(n(l(),this.lobby_name+"/settings/"),{start:!0})}),u(n(l(),this.lobby_name+"/users"),e=>{try{document.getElementById("myList").innerText=" ",e.forEach(t=>{const o=document.createElement("li"),i=document.createTextNode(t.val().display_name);if(document.getElementById("myList").appendChild(o),t.val().host){const a=document.createElement("i");a.classList.add("fas"),a.classList.add("fa-crown"),a.setAttribute("style","color:yellow;border:0;padding:0;position:relative;top:0.1%;left: 0%;"),o.appendChild(a)}o.appendChild(i)})}catch{}}),u(n(l(),this.lobby_name+"/settings/start"),e=>{e.val()&&this.$router.push("/game")})}},m=e=>(I("data-v-96c8f923"),e=e(),x(),e),R={style:{display:"block"},id:"lobbyDiv",class:"gameContainer"},S={class:"wrapper"},U={class:"player-list"},$=m(()=>s("ul",{id:"myList"},null,-1)),G=m(()=>s("div",{id:"startGameDiv",style:{display:"none"}},[s("div",{class:"start-button"},[s("button",{id:"startGameBtn",class:"button"},"Start")])],-1)),T={class:"getURLdiv"};function j(e,t,o,i,a,r){const y=g("center");return f(),L(E,null,[s("h1",null,"Lobby "+k(a.lobby_name),1),s("div",R,[s("div",S,[s("div",U,[B(y,null,{default:w(()=>[$,G]),_:1})])])]),s("div",T,[s("button",{onClick:t[0]||(t[0]=(...p)=>r.copyLobbyURL&&r.copyLobbyURL(...p)),class:"button"},"Share")])],64)}const A=_(D,[["render",j],["__scopeId","data-v-96c8f923"],["__file","/home/dave/Documents/geohunt-vue/src/pages/Lobby.vue"]]);export{A as default};
