import{_ as v,h as u,g as p,s as h,a as m,b as _,c as b,r as i,d as r,e as g,f,o as w,i as B,j as e,k as L,w as x,F as I,l as C,p as E,m as k}from"./index-873a7a63.js";import{u as S}from"./create-519c1ebc.js";import{s as j}from"./global-867567d1.js";const D={setup(){document.getElementById("htmlTitle").innerText="GeoHunt - Create Lobby"},methods:{create_lobby(t,a){u(p(),"createLobby")({lobbyname:t,password:a}).then(s=>{console.log(s.data)})},login(){let t=document.getElementById("lobbyname"),a=document.getElementById("password"),o=document.getElementById("displayname");const s=u(p(),"writeUserToRTDB");h(m()).then(()=>{console.log("Signed in succesfully"),document.getElementById("loginbutton").value=="create"&&this.create_lobby(t.value,a.value),s({displayname:o.value,lobbyname:t.value}).then(c=>{console.log(c.data),S(m(),t.value),j(t.value),this.$router.push("/lobby")})})},passwordListener(){let t=document.getElementById("lobbyname").value,a=document.getElementById("loginbutton");_(b(i(r()),t)).then(o=>{o.exists()?_(b(i(r()),t+"/users")).then(async s=>{await!s.exists()?(g(i(r())),a.value="create"):a.value="join"}):a.value="create"})}}},n=t=>(E("data-v-aada7010"),t=t(),k(),t),F=n(()=>e("head",null,[e("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"})],-1)),N=n(()=>e("div",{class:"header"},[e("h1",null,"Geo-Hunt;")],-1)),T={id:"preLobbyDiv",class:"container"},U={class:"wrapper"},q=n(()=>e("div",{class:"title"},[e("span",null,"Geo-Hunt Login")],-1)),G={action:"#",autocomplete:"off"},H=C('<div class="row" data-v-aada7010><i class="fas fa-user" data-v-aada7010></i><input id="displayname" type="text" placeholder="Username" required data-v-aada7010></div><div class="row" data-v-aada7010><i class="fas fa-users" data-v-aada7010></i><input id="lobbyname" type="text" placeholder="Lobby Name" required data-v-aada7010></div>',2),V={class:"row"},A=n(()=>e("i",{class:"fas fa-lock"},null,-1)),P={class:"row button"},R=n(()=>e("p",{style:{display:"none"},id:"wrongpassword"},"Wrong password",-1));function W(t,a,o,s,c,l){const y=f("center");return w(),B(I,null,[F,e("header",null,[L(y,null,{default:x(()=>[N]),_:1})]),e("div",T,[e("div",U,[q,e("form",G,[H,e("div",V,[A,e("input",{onFocus:a[0]||(a[0]=(...d)=>l.passwordListener&&l.passwordListener(...d)),id:"password",type:"text",placeholder:"Lobby Password",required:""},null,32)]),e("div",P,[e("input",{onClick:a[1]||(a[1]=(...d)=>l.login&&l.login(...d)),type:"button",id:"loginbutton",value:"Login"})]),R])])])],64)}const K=v(D,[["render",W],["__scopeId","data-v-aada7010"],["__file","/home/dave/Documents/geohunt-vue/geohunt-vue/src/pages/Create.vue"]]);export{K as default};
