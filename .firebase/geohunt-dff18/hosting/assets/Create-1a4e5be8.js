import{_ as f,h as y,g as b,s as w,a as u,b as p,c as m,r as i,d as r,e as B,f as I,o as L,i as x,j as t,k as E,w as k,F as C,l as F,p as S,m as j}from"./index-f2fd0a46.js";import{i as _,u as v}from"./icons-bf866fab.js";import{s as h}from"./global-867567d1.js";const D={setup(){document.getElementById("htmlTitle").innerText="GeoHunt - Create Lobby"},data(){return{wrongpassword_boolean:!1}},methods:{create_lobby(e,a){y(b(),"createLobby")({lobbyname:e,password:a}).then(o=>{console.log(o.data)})},login(){let e=document.getElementById("lobbyname"),a=document.getElementById("password"),s=document.getElementById("displayname");if(e.value==""||a.value==""||s.value==""){document.getElementById("emptyFields").style="display:block;";return}const o=y(b(),"writeUserToRTDB");w(u()).then(()=>{console.log("Signed in succesfully"),document.getElementById("loginbutton").value=="join"&&p(m(i(r()),e.value+"/settings")).then(async d=>{a.value!=d.val().password?document.getElementById("wrongpassword").style="display: block":o({displayname:s.value,lobbyname:e.value,icon:_.hunted_1}).then(n=>{console.log(n.data),v(u(),e.value),h(e.value),this.$router.push("/lobby")})}),document.getElementById("loginbutton").value=="create"&&(this.create_lobby(e.value,a.value),o({displayname:s.value,lobbyname:e.value,icon:_.hunted_1}).then(d=>{console.log(d.data),v(u(),e.value),h(e.value),this.$router.push("/lobby")}))})},passwordListener(){let e=document.getElementById("lobbyname").value,a=document.getElementById("loginbutton");p(m(i(r()),e)).then(s=>{s.exists()?p(m(i(r()),e+"/users")).then(async o=>{await!o.exists()?(B(i(r())),a.value="create"):a.value="join"}):a.value="create"})}}},l=e=>(S("data-v-aada7010"),e=e(),j(),e),N=l(()=>t("head",null,[t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"})],-1)),T=l(()=>t("div",{class:"header"},[t("h1",null,"Geo-Hunt;")],-1)),U={id:"preLobbyDiv",class:"container"},q={class:"wrapper"},G=l(()=>t("div",{class:"title"},[t("span",null,"Geo-Hunt Login")],-1)),H={action:"#",autocomplete:"off"},V=F('<div class="row" data-v-aada7010><i class="fas fa-user" data-v-aada7010></i><input id="displayname" type="text" placeholder="Username" required data-v-aada7010></div><div class="row" data-v-aada7010><i class="fas fa-users" data-v-aada7010></i><input id="lobbyname" type="text" placeholder="Lobby Name" required data-v-aada7010></div>',2),A={class:"row"},$=l(()=>t("i",{class:"fas fa-lock"},null,-1)),P={class:"row button"},R=l(()=>t("p",{style:{display:"none"},id:"wrongpassword"},"Wrong password",-1)),W=l(()=>t("p",{style:{display:"none"},id:"emptyFields"},"Some fields are empty",-1));function z(e,a,s,o,d,n){const g=I("center");return L(),x(C,null,[N,t("header",null,[E(g,null,{default:k(()=>[T]),_:1})]),t("div",U,[t("div",q,[G,t("form",H,[V,t("div",A,[$,t("input",{onFocus:a[0]||(a[0]=(...c)=>n.passwordListener&&n.passwordListener(...c)),id:"password",type:"text",placeholder:"Lobby Password",required:""},null,32)]),t("div",P,[t("input",{onClick:a[1]||(a[1]=(...c)=>n.login&&n.login(...c)),type:"button",id:"loginbutton",value:"Login"})]),R,W])])])],64)}const O=f(D,[["render",z],["__scopeId","data-v-aada7010"],["__file","/home/dave/Documents/geohunt-vue/geohunt-vue/src/pages/Create.vue"]]);export{O as default};
